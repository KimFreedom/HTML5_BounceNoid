<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>BounceNoid HTML5 Phaser</title>
	<style>
		* { padding: 0; margin: 0; }
	</style>
	<script src="//cdn.jsdelivr.net/npm/phaser@3.0.0/dist/phaser.min.js"></script>
</head>
<body>
<script>
	var gameConfig = {
		type: Phaser.AUTO,
		width: 800,
		height: 600,
		physics: {
			default: 'arcade'
		},
		scene: {
			preload: preload,
			create: create
		}
	};
	var game = new Phaser.Game(gameConfig);
	
	function preload ()
    {
        //this.load.setBaseURL('http://labs.phaser.io');
        this.load.image('sky', 'assets/skies/Main.png');
        //this.load.image('logo', 'assets/sprites/GreenBall.png');
        this.load.spritesheet('block', 'assets/sprites/blocks.png', { frameWidth: 32, frameHeight: 32 });
        this.load.image('ball', 'assets/sprites/ball.png');
        this.load.image('red', 'assets/particles/redParticle.png');

        this.canvas = this.sys.game.canvas;
    }
    function create ()
    {
        let { width, height } = this.canvas;
        this.add.image(400, 300, 'sky');
        blocks = this.physics.add.group({
            key: 'block',
            repeat: 4,
            setXY: { x: width / 6, y: height / 5, stepX: width / 6 }
        });
        
        var particles = this.add.particles('red');
        var emitter = particles.createEmitter({
            speed: 100,
            scale: { start: 1, end: 0 },
            blendMode: 'ADD'
        });
        var ball = this.physics.add.image(400, 100, 'ball');
        ball.setVelocity(100, 200);
        ball.setBounce(1, 1);
        ball.setCollideWorldBounds(true);
        emitter.startFollow(ball);
    }
</script>
</body>
</html>